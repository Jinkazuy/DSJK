{"version":3,"sources":["webpack:///D:/JK-WorkFile/Code/DSJK/DSJK-uni/main.js","webpack:///D:/JK-WorkFile/Code/DSJK/DSJK-uni/pages/bluetooth-modu/bluetooth-modu.vue?81cb","webpack:///D:/JK-WorkFile/Code/DSJK/DSJK-uni/pages/bluetooth-modu/bluetooth-modu.vue?0dcc","webpack:///D:/JK-WorkFile/Code/DSJK/DSJK-uni/pages/bluetooth-modu/bluetooth-modu.vue?0ac5","webpack:///D:/JK-WorkFile/Code/DSJK/DSJK-uni/pages/bluetooth-modu/bluetooth-modu.vue?a0f7","webpack:///D:/JK-WorkFile/Code/DSJK/DSJK-uni/pages/bluetooth-modu/bluetooth-modu.vue","webpack:///D:/JK-WorkFile/Code/DSJK/DSJK-uni/pages/bluetooth-modu/bluetooth-modu.vue?0333","webpack:///D:/JK-WorkFile/Code/DSJK/DSJK-uni/pages/bluetooth-modu/bluetooth-modu.vue?4654"],"names":["createPage","Page","data","devices","devicesTemporary","connected","chs","dddd","onShow","openBluetoothAdapter","computed","methods","uni","success","res","console","log","startBluetoothDevicesDiscovery","fail","errCode","onBluetoothAdapterStateChange","available","getBluetoothAdapterState","discovering","onBluetoothDeviceFound","_discoveryStarted","allowDuplicatesKey","stopBluetoothDevicesDiscovery","forEach","device","name","localName","foundDevices","idx","inArray","deviceId","length","setTimeout","createBLEConnection","e","ds","currentTarget","dataset","getBLEDeviceServices","closeBLEConnection","canWrite","i","services","isPrimary","getBLEDeviceCharacteristics","uuid","serviceId","characteristics","item","properties","read","readBLECharacteristicValue","characteristicId","write","_deviceId","_serviceId","_characteristicId","writeBLECharacteristicValue","notify","indicate","notifyBLECharacteristicValueChange","state","error","onBLECharacteristicValueChange","characteristic","value","hexCharCodeToStr","ab2hex","buffer","ArrayBuffer","dataView","DataView","setUint8","closeBluetoothAdapter","arr","key","val","hexArr","Array","prototype","map","call","Uint8Array","bit","toString","slice","join","str","trimedStr","trim","rawStr","substr","toLowerCase","len","curCharCode","resultStr","parseInt","push","String","fromCharCode","max","index","RSSIMAX","Math","RSSI","advertisServiceUUIDs","serverNum"],"mappings":"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","file":"pages/bluetooth-modu/bluetooth-modu.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/bluetooth-modu/bluetooth-modu.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./bluetooth-modu.vue?vue&type=template&id=40637976&\"\nvar renderjs\nimport script from \"./bluetooth-modu.vue?vue&type=script&lang=js&\"\nexport * from \"./bluetooth-modu.vue?vue&type=script&lang=js&\"\nimport style0 from \"./bluetooth-modu.vue?vue&type=style&index=0&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!F:\\\\JK-apps\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"F:\\\\JK-apps\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('40637976')) {\n      api.createRecord('40637976', component.options)\n    } else {\n      api.reload('40637976', component.options)\n    }\n    module.hot.accept(\"./bluetooth-modu.vue?vue&type=template&id=40637976&\", function () {\n      api.rerender('40637976', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"D:/JK-WorkFile/Code/DSJK/DSJK-uni/pages/bluetooth-modu/bluetooth-modu.vue\"\nexport default component.exports","export * from \"-!F:\\\\JK-apps\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!F:\\\\JK-apps\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!F:\\\\JK-apps\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!F:\\\\JK-apps\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!F:\\\\JK-apps\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\JK-apps\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./bluetooth-modu.vue?vue&type=template&id=40637976&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.devices, function(item, index) {\n    var m0 = _vm.max(item, index)\n    var m1 = _vm.len(item, index)\n    return {\n      $orig: _vm.__get_orig(item),\n      m0: m0,\n      m1: m1\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!F:\\\\JK-apps\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\JK-apps\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!F:\\\\JK-apps\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\JK-apps\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\JK-apps\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./bluetooth-modu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!F:\\\\JK-apps\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\JK-apps\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!F:\\\\JK-apps\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\JK-apps\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\JK-apps\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./bluetooth-modu.vue?vue&type=script&lang=js&\"","//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      // toastTitle: '', // 提示信息\r\n      // deviceName: 'Mi Band 3', // 需要连接设备的名称（通过查询后才能得到）\r\n      // deviceId: '', // 当前已连接设备的唯一识别ID\r\n      // serviceId: '', // 某个服务下的UUID\r\n      // unLinkNum: 0, // 未找到希望目标设备次数，达到N次让用户做xx操作\r\n      devices: [], // 获取到的所有设备的列表\r\n      devicesTemporary: [], // 临时储存 获取到的所有设备的列表\r\n      connected: false,\r\n      chs: [],\r\n      dddd: [1, 2, 3, 4]\r\n    }\r\n  },\r\n  onShow () {\r\n    // 初始化蓝牙模块\r\n    this.openBluetoothAdapter()\r\n  },\r\n  computed: {},\r\n  methods: {\r\n    // =========================\r\n    // 1 - 初始化蓝牙模块\r\n    // 2 - 开始搜寻附近的蓝牙外围设备\r\n    // 此操作比较耗费系统资源，请在搜索并连接到设备后调用 uni.stopBluetoothDevicesDiscovery 方法停止搜索\r\n    // =========================\r\n    openBluetoothAdapter () {\r\n      // 1 - 初始化蓝牙模块 原本为uni.xxx 但uniapp框架做了层封装，使用uni.xxx也能调用蓝牙功能，且，可以适配APP端；\r\n      uni.openBluetoothAdapter({\r\n        success: (res) => {\r\n          console.log('- 初始化蓝牙模块 - 成功')\r\n          console.log('-')\r\n          // 3 - 开始搜寻附近的蓝牙外围设备\r\n          this.startBluetoothDevicesDiscovery()\r\n        },\r\n        fail: (res) => {\r\n          console.log('- 初始化蓝牙模块 - 失败')\r\n          // todo:提示用户开启蓝牙\r\n          if (res.errCode === 10001) {\r\n            // 错误码10001，表示当前蓝牙适配器不可用\r\n            // 监听蓝牙适配器状态变化事件,那么这里监听蓝牙状态改变，如果返回值是available那么说明蓝牙现在可用，\r\n\t\t\t// 原本为uni.xxx 但uniapp框架做了层封装，使用uni.xxx也能调用蓝牙功能，且，可以适配APP端；\r\n            uni.onBluetoothAdapterStateChange(function (res) {\r\n              console.log('监听当前蓝牙状态', res)\r\n              if (res.available) {\r\n                // 蓝牙可用 3 - 开始搜寻附近的蓝牙外围设备\r\n                this.startBluetoothDevicesDiscovery()\r\n              }\r\n            })\r\n          }\r\n        }\r\n      })\r\n    },\r\n\r\n    // =========================\r\n    // 2 - 获取本机蓝牙适配器状态\r\n    // =========================\r\n    getBluetoothAdapterState () {\r\n\t\t// 原本为uni.xxx 但uniapp框架做了层封装，使用uni.xxx也能调用蓝牙功能，且，可以适配APP端；\r\n      uni.getBluetoothAdapterState({\r\n        success: (res) => {\r\n          console.log('本机蓝牙状态', res)\r\n          // discovering === true 代表 蓝牙正处于搜索设备状态\r\n          if (res.discovering) {\r\n            // 那么启用 监听寻找到新设备的事件\r\n            this.onBluetoothDeviceFound()\r\n          } else if (res.available) {\r\n            // 如果不在搜索状态，那么就检查蓝牙是否可用 available = true 代表蓝牙可用（初始化成功）\r\n            this.startBluetoothDevicesDiscovery()\r\n          }\r\n        }\r\n      })\r\n    },\r\n\r\n    // =========================\r\n    // 3 - 开始搜寻附近的蓝牙外围设备\r\n    // =========================\r\n    startBluetoothDevicesDiscovery () {\r\n      if (this._discoveryStarted) {\r\n        return\r\n      }\r\n      this._discoveryStarted = true\r\n\t  // 原本为uni.xxx 但uniapp框架做了层封装，使用uni.xxx也能调用蓝牙功能，且，可以适配APP端；\r\n      uni.startBluetoothDevicesDiscovery({\r\n        allowDuplicatesKey: true, // 是否允许重复上报同一设备\r\n        success: (res) => {\r\n          // 搜索成功\r\n          console.log(' - 搜索成功')\r\n          // 4 - 监听寻找到新设备的事件\r\n          this.onBluetoothDeviceFound()\r\n        }\r\n      })\r\n    },\r\n\r\n    // =========================\r\n    // 停止搜寻附近的蓝牙外围设备。\r\n    // 若已经找到需要的蓝牙设备并不需要继续搜索时，建议调用该接口停止蓝牙搜索\r\n    // =========================\r\n    stopBluetoothDevicesDiscovery () {\r\n      console.log('停止扫描')\r\n\t  // 原本为uni.xxx 但uniapp框架做了层封装，使用uni.xxx也能调用蓝牙功能，且，可以适配APP端；\r\n      uni.stopBluetoothDevicesDiscovery()\r\n    },\r\n\r\n    // =========================\r\n    // 4 - 监听寻找到新设备的事件\r\n    // =========================\r\n    onBluetoothDeviceFound () {\r\n\t\t// 原本为uni.xxx 但uniapp框架做了层封装，使用uni.xxx也能调用蓝牙功能，且，可以适配APP端；\r\n      uni.onBluetoothDeviceFound((res) => {\r\n        res.devices.forEach(device => {\r\n          // 这里判断，如果name和localName为空，那么这个蓝牙很可能用不了，\r\n          // TODO：不过，这个情况也可能存在，所以如果搜不到目标设备，把这个if取消试试\r\n          if (!device.name && !device.localName) {\r\n            return\r\n          }\r\n          // 搜索到的蓝牙设备\r\n          // 这里只能先用临时的空数组承担查找到的设备然后在下边经过延迟后再赋值给储存设备的列表的数组，否则HTML拿不到data下devices的数据\r\n          const foundDevices = this.devicesTemporary\r\n          const idx = this.inArray(foundDevices, 'deviceId', device.deviceId)\r\n          // const data = {}\r\n          if (idx === -1) {\r\n            this.devicesTemporary[foundDevices.length] = device\r\n            // data[`devices[${foundDevices.length}]`] = device\r\n            // console.log(data)\r\n          } else {\r\n            this.devicesTemporary[idx] = device\r\n            // ++num\r\n            // data[`devices[${++num}]`] = device\r\n          }\r\n\r\n          setTimeout(() => {\r\n            this.devices = this.devicesTemporary\r\n\t\t\tconsole.log('搜索到的设备')\r\n\t\t\tconsole.log(this.devices)\r\n          }, 500)\r\n          // todo: 此时应该把这个设备列表展示，然后用户点击选择\r\n          // todo: 此时会一直处于搜索状态，那么当用户点击某个蓝牙设备时，调用 createBLEConnection(设备对象)\r\n          // 那么这里就让它自己动即可\r\n          // for (let i = 0; i < this.devices.length; i++) {\r\n          //   if (this.devices[i].name === 'Mi Band 3') {\r\n          //     this.createBLEConnection()\r\n          //   }\r\n          // }\r\n        })\r\n      })\r\n    },\r\n\r\n    // =========================\r\n\t// 用户点击某个蓝牙设备 - 进行连接\r\n    // 连接低功耗蓝牙设备。\r\n    // 若小程序在之前已有搜索过某个蓝牙设备，并成功建立连接，可直接传入之前搜索获取的 deviceId 直接尝试连接该设备，无需进行搜索操作\r\n    // =========================\r\n    createBLEConnection (e) {\r\n      console.log('用户点击，选择连接设备')\r\n      console.log(e)\r\n      const ds = e.currentTarget.dataset\r\n      const deviceId = ds.deviceId\r\n      const name = ds.name\r\n\t  // 原本为uni.xxx 但uniapp框架做了层封装，使用uni.xxx也能调用蓝牙功能，且，可以适配APP端；\r\n      uni.createBLEConnection({\r\n        deviceId,\r\n        success: (res) => {\r\n\t\t\tthis.connected = true\r\n\t\t\tthis.name = name\r\n\t\t\tthis.deviceId = deviceId\r\n          this.getBLEDeviceServices(deviceId)\r\n        }\r\n      })\r\n\t  // 停止扫描附近蓝牙\r\n      this.stopBluetoothDevicesDiscovery()\r\n    },\r\n\r\n    // =========================\r\n    // 断开与低功耗蓝牙设备的连接\r\n    // =========================\r\n    closeBLEConnection () {\r\n      console.log('断开连接')\r\n\t  // 原本为uni.xxx 但uniapp框架做了层封装，使用uni.xxx也能调用蓝牙功能，且，可以适配APP端；\r\n      uni.closeBLEConnection({\r\n        deviceId: this.data.deviceId\r\n      })\r\n\t  this.chs = []\r\n\t  this.connected = false\r\n\t  this.canWrite = false\r\n      // this.setData({\r\n      //   connected: false,\r\n      //   chs: [],\r\n      //   canWrite: false\r\n      // })\r\n    },\r\n\r\n    // =========================\r\n    // 获取蓝牙设备 的 所有服务(service)。\r\n    // =========================\r\n    getBLEDeviceServices (deviceId) {\r\n      console.log('-当前连接设备的所有服务↓')\r\n\t  // 原本为uni.xxx 但uniapp框架做了层封装，使用uni.xxx也能调用蓝牙功能，且，可以适配APP端；\r\n      uni.getBLEDeviceServices({\r\n        deviceId,\r\n        success: (res) => {\r\n          for (let i = 0; i < res.services.length; i++) {\r\n            if (res.services[i].isPrimary) {\r\n\t\t\t  // ！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！\r\n\t\t\t  // ！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！\r\n\t\t\t  // ！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！\r\n\t\t\t  // ！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！\r\n\t\t\t  // ！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！\r\n\t\t\t  // ！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！\r\n\t\t\t  // ！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！\r\n\t\t\t  // ！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！\r\n\t\t\t  // ！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！\r\n\t\t\t  // ！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！\r\n\t\t\t  // 这里根据每个硬件设备，所用到的服务不同，这里测试0，具体的开始看设备\r\n              this.getBLEDeviceCharacteristics(deviceId, res.services[2].uuid)\r\n              return\r\n            }\r\n          }\r\n        }\r\n      })\r\n    },\r\n\r\n    // =========================\r\n\t// 获取蓝牙设备某个服务中所有特征值(characteristic)\r\n    // =========================\r\n    getBLEDeviceCharacteristics (deviceId, serviceId) {\r\n\t\t// 原本为uni.xxx 但uniapp框架做了层封装，使用uni.xxx也能调用蓝牙功能，且，可以适配APP端；\r\n      uni.getBLEDeviceCharacteristics({\r\n        deviceId,\r\n        serviceId,\r\n        success: (res) => {\r\n          console.log('获取蓝牙设备某个服务中所有特征值(characteristic) 成功', res.characteristics)\r\n          for (let i = 0; i < res.characteristics.length; i++) {\r\n            let item = res.characteristics[i]\r\n            if (item.properties.read) {\r\n              console.log(item.uuid, '该服务下，可读的UUID特征值')\r\n\t\t\t  // 读取低功耗蓝牙设备的特征值的二进制数据值。注意：必须设备的特征值支持 read 才可以成功调用\r\n\t\t\t  // 接口读取到的信息需要在 onBLECharacteristicValueChange 方法注册的回调中获取\r\n\t\t\t  // 原本为uni.xxx 但uniapp框架做了层封装，使用uni.xxx也能调用蓝牙功能，且，可以适配APP端；\r\n              uni.readBLECharacteristicValue({\r\n                // 这里的 deviceId 需要已经通过 createBLEConnection 与对应设备建立链接\r\n                deviceId,\r\n                // 这里的 serviceId 需要在 getBLEDeviceServices 接口中获取\r\n                serviceId,\r\n                // 这里的 characteristicId就是特征值uuid 需要在 getBLEDeviceCharacteristics 接口中获取\r\n                characteristicId: item.uuid,\r\n                success (res) {\r\n                  console.log('获取蓝牙设备某个服务中所有特征值(characteristic) 失败:', res.errCode)\r\n                }\r\n              })\r\n            }\r\n\t\t\t// 如果该服务下的某个UUID支持写入，那么就执行写入\r\n            if (item.properties.write) {\r\n\t\t\t\tthis.canWrite = true\r\n              // this.setData({\r\n              //   canWrite: true\r\n              // })\r\n              this._deviceId = deviceId\r\n              this._serviceId = serviceId\r\n              this._characteristicId = item.uuid\r\n\t\t\t  console.log(item.uuid, '该服务下，可写的UUID特征值')\r\n              // 在这里发送数据，后边才能通过监听状态值拿到变化，也就是读取出来的值，是根据发送的内容变化的（JK猜测）\r\n              this.writeBLECharacteristicValue()\r\n            }\r\n\t\t\t// 监听状态值变化\r\n            if (item.properties.notify || item.properties.indicate) {\r\n              uni.notifyBLECharacteristicValueChange({\r\n                deviceId,\r\n                serviceId,\r\n                characteristicId: item.uuid,\r\n                state: true\r\n              })\r\n            }\r\n          }\r\n        },\r\n        fail (res) {\r\n          console.error('getBLEDeviceCharacteristics', res)\r\n        }\r\n      })\r\n      // 操作之前先监听，保证第一时间获取数据\r\n\t  // 每次监听到UUID服务值的读取值变化的时候，都会进入，也就是 readBLECharacteristicValue 读取到的值，是在这里获取的，\r\n\t  // 这里将每次获取到的UUID的Arrbuffer值拿到，并且转成16进制数值，然后再转成字符串（可能有乱码）\r\n      uni.onBLECharacteristicValueChange((characteristic) => {\r\n\t\t  // 这里将每次监听该服务下的UUID值的变化\r\n\t\t  // 并储存起来\r\n        const idx = this.inArray(this.chs, 'uuid', characteristic.characteristicId)\r\n        const data = {}\r\n        if (idx === -1) {\r\n          console.log('！！！！！！！！！！')\r\n          console.log(characteristic.value)\r\n          console.log('16进制转字符串↓')\r\n          console.log(this.hexCharCodeToStr(this.ab2hex(characteristic.value)))\r\n\t\t  \r\n\t\t  this.chs[this.chs.length] = {\r\n            uuid: characteristic.characteristicId,\r\n            value: this.ab2hex(characteristic.value)\r\n          }\r\n          // data[`chs[${this.data.chs.length}]`] = {\r\n          //   uuid: characteristic.characteristicId,\r\n          //   value: this.ab2hex(characteristic.value)\r\n          // }\r\n        } else {\r\n          console.log('16进制转字符串↓')\r\n          console.log(this.hexCharCodeToStr(this.ab2hex(characteristic.value)))\r\n\t\t  \r\n\t\t  this.chs[idx] = {\r\n            uuid: characteristic.characteristicId,\r\n            value: this.ab2hex(characteristic.value)\r\n          }\r\n\t\t  \r\n          // data[`chs[${idx}]`] = {\r\n          //   uuid: characteristic.characteristicId,\r\n          //   value: this.ab2hex(characteristic.value)\r\n          // }\r\n        }\r\n        // data[`chs[${this.data.chs.length}]`] = {\r\n        //   uuid: characteristic.characteristicId,\r\n        //   value: ab2hex(characteristic.value)\r\n        // }\r\n        // this.setData(data)\r\n        console.log(this.chs)\r\n\t\t// 经过没一次的转换和存储，最后this.chs下会有多个对象 如下↓\r\n\t\t// {uuid: \"00002A25-0000-1000-8000-00805F9B34FB\", value: \"336439393335643865333432\"}\r\n\t\t// 这个UUID是当前连接服务下的 characteristic\r\n        console.log('-------------')\r\n      })\r\n    },\r\n\r\n    // ==========================\r\n    // 写入数据\r\n    // 向低功耗蓝牙设备特征值中写入二进制数据\r\n    // ==========================\r\n    writeBLECharacteristicValue () {\r\n      console.log('写数据')\r\n      // 向蓝牙设备发送一个0x00的16进制数据\r\n\t  // 这个ArrayBuffer(x)就是下边我们要dataView.setUint8(0, 1)的个数，比如要设置8个值，那么这里就是ArrayBuffer(8)\r\n      let buffer = new ArrayBuffer(1)\r\n      let dataView = new DataView(buffer)\r\n      dataView.setUint8(0, 1)\r\n      console.log('发送的buffer')\r\n      console.log(buffer)\r\n      uni.writeBLECharacteristicValue({\r\n        deviceId: this._deviceId,\r\n        serviceId: this._serviceId,\r\n        characteristicId: this._characteristicId,\r\n        value: buffer\r\n      })\r\n    },\r\n\r\n    // ==========================\r\n    // 关闭蓝牙模块。\r\n    // 调用该方法将断开所有已建立的连接并释放系统资源。\r\n    // 建议在使用蓝牙流程后，与 uni.openBluetoothAdapter（初始化蓝牙） 成对调用\r\n    // ==========================\r\n    closeBluetoothAdapter () {\r\n      console.log('结束流程')\r\n      uni.closeBluetoothAdapter()\r\n      this._discoveryStarted = false\r\n    },\r\n\r\n    // ==========================\r\n    // 以下是一些转译的工具函数\r\n    // 以下是一些转译的工具函数\r\n    // 以下是一些转译的工具函数\r\n    // ==========================\r\n    inArray (arr, key, val) {\r\n      for (let i = 0; i < arr.length; i++) {\r\n        if (arr[i][key] === val) {\r\n          return i\r\n        }\r\n      }\r\n      return -1\r\n    },\r\n\r\n    // ArrayBuffer转16进度字符串示例\r\n    ab2hex (buffer) {\r\n      var hexArr = Array.prototype.map.call(\r\n        new Uint8Array(buffer),\r\n        function (bit) {\r\n          return ('00' + bit.toString(16)).slice(-2)\r\n        }\r\n      )\r\n      return hexArr.join('')\r\n    },\r\n\r\n    // 16进制转字符串\r\n    hexCharCodeToStr (str) {\r\n      var trimedStr = str.trim()\r\n      var rawStr =\r\n        trimedStr.substr(0, 2).toLowerCase() === '0x'\r\n          ? trimedStr.substr(2)\r\n          : trimedStr\r\n      var len = rawStr.length\r\n      if (len % 2 !== 0) {\r\n        // alert(\"Illegal Format ASCII Code!\");\r\n        return ''\r\n      }\r\n      var curCharCode\r\n      var resultStr = []\r\n      for (var i = 0; i < len; i = i + 2) {\r\n        curCharCode = parseInt(rawStr.substr(i, 2), 16) // ASCII Code Value\r\n        resultStr.push(String.fromCharCode(curCharCode))\r\n      }\r\n      return resultStr.join('')\r\n    },\r\n    // 让vue使用小程序的setData方法\r\n    // setData: function (obj) {\r\n    //   let that = this\r\n    //   let keys = []\r\n    //   let val, data\r\n    //   Object.keys(obj).forEach(function (key) {\r\n    //     keys = key.split('.')\r\n    //     val = obj[key]\r\n    //     data = that.$data\r\n    //     keys.forEach(function (key2, index) {\r\n    //       if (index + 1 === keys.length) {\r\n    //         that.$set(data, key2, val)\r\n    //       } else {\r\n    //         if (!data[key2]) {\r\n    //           that.$set(data, key2, {})\r\n    //         }\r\n    //       }\r\n    //       data = data[key2]\r\n    //     })\r\n    //   })\r\n    // },\r\n    // 设置界面上显示信号长度，因为小程序无法送过return的方式传值，那么只能通过手动设置了\r\n    max (item, index) {\r\n      this.devices[index].RSSIMAX = Math.max(0, item.RSSI + 100)\r\n    },\r\n    len (item, index) {\r\n      item = item.advertisServiceUUIDs || []\r\n      this.devices[index].serverNum = item.length\r\n    }\r\n  }\r\n}\r\n","import mod from \"-!F:\\\\JK-apps\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--11-oneOf-1-0!F:\\\\JK-apps\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--11-oneOf-1-1!F:\\\\JK-apps\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--11-oneOf-1-2!F:\\\\JK-apps\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!F:\\\\JK-apps\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--11-oneOf-1-3!F:\\\\JK-apps\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\stylus-loader\\\\index.js??ref--11-oneOf-1-4!F:\\\\JK-apps\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--11-oneOf-1-5!F:\\\\JK-apps\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\JK-apps\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./bluetooth-modu.vue?vue&type=style&index=0&lang=stylus&\"; export default mod; export * from \"-!F:\\\\JK-apps\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--11-oneOf-1-0!F:\\\\JK-apps\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--11-oneOf-1-1!F:\\\\JK-apps\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--11-oneOf-1-2!F:\\\\JK-apps\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!F:\\\\JK-apps\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--11-oneOf-1-3!F:\\\\JK-apps\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\stylus-loader\\\\index.js??ref--11-oneOf-1-4!F:\\\\JK-apps\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--11-oneOf-1-5!F:\\\\JK-apps\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\JK-apps\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./bluetooth-modu.vue?vue&type=style&index=0&lang=stylus&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}