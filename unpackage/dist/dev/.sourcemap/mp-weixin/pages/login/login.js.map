{"version":3,"sources":["webpack:///D:/JK-WorkFile/Code/DSJK/DSJK-uni/main.js","webpack:///D:/JK-WorkFile/Code/DSJK/DSJK-uni/pages/login/login.vue?cea2","webpack:///D:/JK-WorkFile/Code/DSJK/DSJK-uni/pages/login/login.vue?a589","webpack:///D:/JK-WorkFile/Code/DSJK/DSJK-uni/pages/login/login.vue?4688","webpack:///D:/JK-WorkFile/Code/DSJK/DSJK-uni/pages/login/login.vue?4b93","webpack:///D:/JK-WorkFile/Code/DSJK/DSJK-uni/pages/login/login.vue","webpack:///D:/JK-WorkFile/Code/DSJK/DSJK-uni/pages/login/login.vue?5953","webpack:///D:/JK-WorkFile/Code/DSJK/DSJK-uni/pages/login/login.vue?dc4f"],"names":["createPage","Page","data","onLoginBTN","getPhoneBTN","onShow","uni","hideHomeButton","getSetting","onLoad","val","onLoadErrMsg","onUnload","methods","success","res","authSetting","console","log","getUserInfo","userInfo","setUserInfo","loginAndGetToken","encryptedData","iv","bindGetUserInfo","e","target","store_UserInfo","detail","ifStoreUserPhone","store_UserPhone","store_UserInfoData","mobile","switchTab","url","complete","bindgetphonenumber","login","loginRes","code","httpRes","setToken","computed"],"mappings":"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","file":"pages/login/login.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/login/login.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./login.vue?vue&type=template&id=1d6f2eca&\"\nvar renderjs\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./login.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!F:\\\\JK-apps\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"F:\\\\JK-apps\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('1d6f2eca')) {\n      api.createRecord('1d6f2eca', component.options)\n    } else {\n      api.reload('1d6f2eca', component.options)\n    }\n    module.hot.accept(\"./login.vue?vue&type=template&id=1d6f2eca&\", function () {\n      api.rerender('1d6f2eca', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"D:/JK-WorkFile/Code/DSJK/DSJK-uni/pages/login/login.vue\"\nexport default component.exports","export * from \"-!F:\\\\JK-apps\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!F:\\\\JK-apps\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!F:\\\\JK-apps\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!F:\\\\JK-apps\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!F:\\\\JK-apps\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\JK-apps\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./login.vue?vue&type=template&id=1d6f2eca&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = require(\"../../static/images/login/ds-logo.svg\")\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!F:\\\\JK-apps\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\JK-apps\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!F:\\\\JK-apps\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\JK-apps\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\JK-apps\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!F:\\\\JK-apps\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\JK-apps\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!F:\\\\JK-apps\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\JK-apps\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\JK-apps\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./login.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\t\n\t// toast组件，拿到的不是组件，是方法；\n\t// 如此这般：Toast('我是提示文案，建议不超过十五字~');\n\timport Toast from '../../wxcomponents/vant/toast/toast'\n\t\n\t// 拿到vuex中的函数\n\timport {mapGetters, mapMutations} from 'vuex'\n\t// 引入自己封装的发送http请求的函数\n\timport {http_login_setToken} from '../../utils/http_login_setToken.js'\n\timport {http_getPhone} from '../../utils/http_getPhone.js'\n\texport default {\n\t\tdata () {\n\t\t\treturn {\n\t\t\t\t// 授权按钮是否显示，当没有获取用户授权时，显示授权按钮\n\t\t\t\tonLoginBTN: false,\n\t\t\t\t// 获取用户手机号按钮\n\t\t\t\tgetPhoneBTN: false\n\t\t\t}\n\t\t},\n\t\t// 监听页面显示。\n\t\t// 页面每次出现在屏幕上都触发，包括从下级页面点返回露出当前页面\n\t\tasync onShow () {\n\t\t\t\n\t\t\t// 隐藏返回首页按钮，仅支持微信小程序\n\n\t\t\tuni.hideHomeButton()\n\n\t\t\t\n\n\t\t\t/*\n\t\t\t* 页面功能逻辑：\n\t\t\t* 1、获取用户本地的信息\n\t\t\t* 2、获取到用户基本信息后 - 获取手机号\n\t\t\t* 3、获取手机号后 - 获取token，刷新token过期时间；\n\t\t\t* \n\t\t\t* \n\t\t\t*/\n\t\t\tthis.getSetting()\n\t\t\t\n\t\t\t\n\n\t\t},\n\t\t// 页面加载\n\t\tonLoad(val) {\n\t\t\tif(val.onLoadErrMsg){\n\t\t\t\tToast(val.onLoadErrMsg)\n\t\t\t}\n\t\t},\n\t\t// 页面卸载\n\t\tonUnload() {},\n\t\tmethods: {\n\t\t\t\n\t\t\t/* \n\t\t\t* 获取用户设置\n\t\t\t*/\n\t\t\tgetSetting () {\n\t\t\t\tuni.getSetting({\n\t\t\t\t  success: (res) => {\n\t\t\t\t\t\tif (res.authSetting[\"scope.userInfo\"]) {\n\t\t\t\t\t\t\tconsole.log('已获取用户“用户信息授权，直接获取用户信息（非敏感数据）”')\n\t\t\t\t\t\t\t// 用户已授权：用户信息\n\t\t\t\t\t\t\t// 获取用户信息\n\t\t\t\t\t\t\tthis.getUserInfo()\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// 未授权用户信息,显示授权用户信息按钮，隐藏其他按钮；\n\t\t\t\t\t\t\tthis.onLoginBTN = true\n\t\t\t\t\t\t\tthis.getPhoneBTN = false\n\t\t\t\t\t\t}\n\t\t\t\t  }\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\t\n\t\t\t/**\n\t\t\t* 获取用户信息授权\n\t\t\t* 获取用户信息\n\t\t\t*/\n\t\t\tgetUserInfo () {\n\t\t\t\tuni.getUserInfo({\n\t\t\t\t  success: (res) => {\n\t\t\t\t\t\t// 获取成功，存本地\n\t\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t\tconsole.log('用户已授权，获取用户信息↓↓↓')\n\t\t\t\t\t  console.log(res.userInfo)\n\t\t\t\t\t\tconsole.log('将信息存储到本地')\n\t\t\t\t\t\tthis.setUserInfo(res.userInfo)\n\t\t\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\t// 获取token，将用户加密信息发送给后台\n\t\t\t\t\t\tthis.loginAndGetToken(res.encryptedData, res.iv)\n\t\t\t\t  }\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t /**\n\t\t * @param obj[auto]\n\t\t * @return null\n\t\t * 备注：点击open-type=\"getUserInfo\"按钮时 触发@getuserinfo事件，将参数自动传递至bindGetUserInfo (e) 中\n\t\t */\n\t\t // 用户点击授权按钮后，弹出弹窗，然后在弹窗点取消或授权，会进入这个函数\n\t\t // 这个@getuserinfo是uniapp提供的处理事件，只适用于微信小程序，\n\t\t // 在点击这个按钮后，会触发bindGetUserInfo，然后拿到用户点击弹窗授权的回调函数\n\t\t // 不同于@click，这个@getuserinfo只能在用户授权的弹窗，当用户点击拒绝或接受才会触发这个事件，并且这个事件只能用在小程序\n\t\t\tbindGetUserInfo (e) {\n\t\t\t\t\tconsole.log('用户点击授权按钮')\n\t\t\t\t\tconsole.log(e)\n\t\t\t\t\tif (e.target.userInfo) {\n\t\t\t\t\t\tconsole.log('用户已授权-获取用户信息')\n\t\t\t\t\t\tconsole.log(e.target.userInfo)\n\t\t\t\t\t\t// 拿到用户基本信息此时的操作，\n\t\t\t\t\t\t// 将用户基本信息储存到本地 \n\t\t\t\t\t\tconsole.log('将信息存储到本地')\n\t\t\t\t\t\tthis.setUserInfo(e.target.userInfo)\n\t\t\t\t\t\tconsole.log('当前本地用户信息↓')\n\t\t\t\t\t\tconsole.log(this.store_UserInfo)\n\t\t\t\t\t\t\n\t\t\t\t\t\t// 用户登录后，向后台换取token存储到本地\n\t\t\t\t\t\t// 这里不去效验本地是否有token，因为：用户信息可能更新、变动，\n\t\t\t\t\t\t// 所以，这里把当前操作用户的加密数据发送给后台，后台解码后将用户信息和最终登录日期等数据入库；\n\t\t\t\t\t\tthis.loginAndGetToken(e.detail.encryptedData, e.detail.iv)\n\n\t\t\t\t\t\t\n\t\t\t\t\t} else {\n\t\t\t\t\t\tToast('需要您的授权才能登录')\n\t\t\t\t\t\tconsole.log('用户拒接登录，此时应显示弹窗告知用户“授权登录后才能使用xxx功能”')\n\t\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t/**\n\t\t\t* 检查本地是否能获取用户手机号\n\t\t\t*/\n\t\t\tasync ifStoreUserPhone () {\n\t\t\t\t// 用户基本信息和详细信息中都有手机号\n\t\t\t\tif (this.store_UserPhone!=='' || this.store_UserInfoData.mobile!==null) {\n\t\t\t\t\tconsole.log('拿到手机号，本地用户手机号↓')\n\t\t\t\t\tconsole.log(this.store_UserPhone || this.store_UserInfoData.mobile)\n\t\t\t\t\tconsole.log('单独判断用户基本体征数据(性别,出生日期,身高,体重)')\n\t\t\t\t\tconsole.log('全部(性别,出生日期,身高,体重)都有，跳转至首页')\n\t\t\t\t\t\n\t\t\t\t\t// 此时已经拿到数据库用户的详细信息，进行判断\n\t\t\t\t\t// if (\n\t\t\t\t\t// this.store_UserInfoData['gender'] !== -1 \n\t\t\t\t\t// && this.store_UserInfoData['gender'] !== null \n\t\t\t\t\t// && this.store_UserInfoData['birth'] !== null  \n\t\t\t\t\t// && this.store_UserInfoData['height'] !== null \n\t\t\t\t\t// && this.store_UserInfoData['weight'] !== null\n\t\t\t\t\t// ) {\n\t\t\t\t\t\tif (1) {\n\t\t\t\t\t\t// 全部都有数据，跳转至首页\n\t\t\t\t\t\t// TODO 同时去数据库拉取用户的更多数据\n\t\t\t\t\t\tuni.switchTab({\n\t\t\t\t\t\t\turl: '../index/index',\n\t\t\t\t\t\t\tcomplete (res) {\n\t\t\t\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// TODO 从数据库获取该用户的基本体征 （身高、体重、生日）这三个都是单独的表，\n\t\t\t\t\t\t// 也就是需要单独请求，但不是在这里，而是封装到一个文件中，这里只调用这个文件的函数即可\n\t\t\t\t\t\t// let UserBase = await http_getUserBaseSign() // TODO这个方法没写，后台接口也没写呢；\n\t\t\t\t\t\t// if (UserBase) {\n\t\t\t\t\t\tif (0) {\n\t\t\t\t\t\t\t// 如果从数据库拉取到了用户基本信息,那么也直接跳转到首页\n\t\t\t\t\t\t\tuni.switchTab({\n\t\t\t\t\t\t\t\turl: '../index/index',\n\t\t\t\t\t\t\t\tcomplete (res) {\n\t\t\t\t\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// 跳转到设置用户基本体征数据\n\t\t\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\t\t\turl: '../init_set_baseSign/init_set_baseSign',\n\t\t\t\t\t\t\t\tcomplete (res) {\n\t\t\t\t\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\t// 本地用户手机号为空\n\t\t\t\t\tconsole.log('本地手机号获取为空，显示获取手机号按钮')\n\t\t\t\t\tthis.getPhoneBTN = true\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t/**\n\t\t\t * @param obj[auto]\n\t\t\t * @return null\n\t\t\t * 备注：点击open-type=\"getPhoneNumber\"按钮时 触发@getphonenumber事件，将参数自动传递至bindgetphonenumber (e) 中 \n\t\t\t*/\n\t\t\tasync bindgetphonenumber (e) {\n\t\t\t\tconsole.log('用户点击获取手机号按钮')\n\t\t\t\tconsole.log(e)\n\t\t\t\tif (e.detail.encryptedData) {\n\t\t\t\t\tconsole.log('用户授权手机号，拿到加密数据，发送给后台换取手机号')\n\t\t\t\t\tawait http_getPhone(e.detail.encryptedData, e.detail.iv)\n\t\t\t\t\t// 等待换取手机号结束，检测本地手机号\n\t\t\t\t\tthis.ifStoreUserPhone()\n\t\t\t\t} else {\n\t\t\t\t\tToast('请您授权获取手机号')\n\t\t\t\t\tconsole.log('用户拒绝授权获取手机号')\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t/* \n\t\t\t* 获取token，将用户加密信息发送给后台\n\t\t\t*/\n\t\t\tasync loginAndGetToken (encryptedData, iv) {\n\t\t\t\t// 用户登录后，向后台换取token存储到本地\n\t\t\t\tuni.login({\n\t\t\t\t  success: async (loginRes) => {\n\t\t\t\t\t\t// 拿到用户登录Code，发送给后台，后台返回token值，将token存储到本地中；\n\t\t\t\t\t\tif (loginRes.code) {\n\t\t\t\t\t\t\tconsole.log('登录，获取token')\n\t\t\t\t\t\t\tlet httpRes = await http_login_setToken(loginRes.code, encryptedData, iv)\n\t\t\t\t\t\t\t// 登录失败\n\t\t\t\t\t\t\tconsole.log(httpRes)\n\t\t\t\t\t\t\tif(!httpRes) {\n\t\t\t\t\t\t\t\t// 显示登录按钮，隐藏其他按钮\n\t\t\t\t\t\t\t\tthis.onLoginBTN = true\n\t\t\t\t\t\t\t\tthis.getPhoneBTN = false\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// 登录成功，执行获取手机号步骤\n\t\t\t\t\t\t\t\t// 登录 & 获取token成功\n\t\t\t\t\t\t\t\t// 显示登录按钮，隐藏其他按钮\n\t\t\t\t\t\t\t\tthis.onLoginBTN = false\n\t\t\t\t\t\t\t\tthis.getPhoneBTN = true\n\t\t\t\t\t\t\t\t// 然后检测本地用户手机号\n\t\t\t\t\t\t\t\tthis.ifStoreUserPhone()\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t  }\n\t\t\t\t})\n\t\t\t},\n\t\t\t...mapMutations({\n\t\t\t        // 这里映射了这个方法，那么在调用x的时候，就等于使用了this.$store.commit('SET_SINGER', value)这个方法；\n\t\t\t        setUserInfo: 'setUserInfo',\n\t\t\t\t\t\t\tsetToken: 'setToken'\n\t\t\t})\n\t\t},\n\t\tcomputed: {\n\t\t\t// vuex提供的辅助函数，拿到store/getters.js向外暴露的内容；\n      ...mapGetters([\n        'store_UserInfo',\n\t\t\t\t'store_UserInfoData', // 用户详细数据\n\t\t\t\t'store_token',\n\t\t\t\t'store_UserPhone',\n\t\t\t\t'store_userBaseSign'\n      ])\n    }\n\t}\n","import mod from \"-!F:\\\\JK-apps\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!F:\\\\JK-apps\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!F:\\\\JK-apps\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!F:\\\\JK-apps\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!F:\\\\JK-apps\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!F:\\\\JK-apps\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\JK-apps\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./login.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!F:\\\\JK-apps\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!F:\\\\JK-apps\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!F:\\\\JK-apps\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!F:\\\\JK-apps\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!F:\\\\JK-apps\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!F:\\\\JK-apps\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\JK-apps\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./login.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}